<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analysis - Hydro-Aether Sentinel</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo"><i class="fas fa-water"></i> Hydro-Aether Sentinel</div>
        <ul>
            <li><a href="dashboard.html"><i class="fas fa-chart-line"></i> Dashboard</a></li>
            <li><a href="data-analysis.html"><i class="fas fa-microscope"></i> Data Analysis</a></li>
            <li><a href="visualization.html"><i class="fas fa-cube"></i> 3D View</a></li>
            <li><a href="predictions.html"><i class="fas fa-brain"></i> ML Insights</a></li>
            <li><a href="alerts.html"><i class="fas fa-bell"></i> Alerts</a></li>
            <li><a href="settings.html" class="active"><i class="fas fa-cog"></i> Settings</a></li>
            <li><a href="about.html"><i class="fas fa-info-circle"></i> About</a></li>
            <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
            <li><a href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
    </nav>

    <div class="analysis-container">
        <div class="analysis-section">
            <h2><i class="fas fa-temperature-high"></i> Temperature and Humidity Analysis</h2>
            <div class="thingspeak-graphs">
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/1?bgcolor=%23ffffff&color=%233498db&dynamic=true&results=6&type=line&update=10"></iframe>
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/2?bgcolor=%23ffffff&color=%232ecc71&dynamic=true&results=6&type=line&update=10"></iframe>
            </div>
        </div>

        <div class="analysis-section">
            <h2><i class="fas fa-tint"></i> Water Quality Analysis</h2>
            <div class="thingspeak-graphs">
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/3?bgcolor=%23ffffff&color=%239b59b6&dynamic=true&results=6&type=line&update=10"></iframe>
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/4?bgcolor=%23ffffff&color=%23e74c3c&dynamic=true&results=6&type=line&update=10"></iframe>
            </div>
            <div class="analysis-results" id="waterQualityAnalysis">
                <div class="quality-metrics"></div>
            </div>
        </div>

        <div class="analysis-section">
            <h2><i class="fas fa-wind"></i> Air Quality Analysis</h2>
            <div class="thingspeak-graphs">
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/5?bgcolor=%23ffffff&color=%23f1c40f&dynamic=true&results=6&type=line&update=10"></iframe>
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2897933/charts/6?bgcolor=%23ffffff&color=%231abc9c&dynamic=true&results=6&type=line&update=10"></iframe>
            </div>
            <div class="analysis-results" id="airQualityAnalysis">
                <div class="quality-metrics"></div>
            </div>
        </div>

        <div class="analysis-section">
            <h2><i class="fas fa-chart-line"></i> Historical Trends</h2>
            <div class="trends-container">
                <canvas id="trendsChart"></canvas>
            </div>
            <div class="analysis-controls">
                <select id="timeRange">
                    <option value="24h">Last 24 Hours</option>
                    <option value="7d">Last 7 Days</option>
                    <option value="30d">Last 30 Days</option>
                </select>
                <button onclick="exportData('csv')">Export Data</button>
            </div>
        </div>

        <div class="analysis-section">
            <h2><i class="fas fa-bell"></i> Alert Configuration</h2>
            <div class="alert-settings">
                <div class="threshold-control">
                    <label>Temperature Range:</label>
                    <input type="number" id="tempMin" placeholder="Min"> -
                    <input type="number" id="tempMax" placeholder="Max">
                </div>
                <div class="threshold-control">
                    <label>Humidity Range:</label>
                    <input type="number" id="humidityMin" placeholder="Min"> -
                    <input type="number" id="humidityMax" placeholder="Max">
                </div>
                <button onclick="saveAlertSettings()">Save Settings</button>
            </div>
        </div>
    </div>

    <script src="js/data-analysis.js"></script>
</body>
</html>
